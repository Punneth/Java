name,method,path,requestHeader,request,expected,responseHeader,status
fetch_analytics_online_merchant_success,POST,/v1/fetchTxnAnalyticsData,default.properties,online-merchant-success.json,online-merchant-success-response.json,default.properties,200
fetch_analytics_merchant_not_found,POST,/v1/fetchTxnAnalyticsData,default.properties,merchant-not-found.json,merchant-not-found-error.json,default.properties,404


{
  "txnAnalyticRequest": {
    "merchId": 0,
    "requestorId": "M1285789568568",
    "userId": 123,
    "userRole": "RESELLER",
    "fromDate": "2025-09-09",
    "toDate": "2026-01-20",
    "channelId": 1,
    "channelName": "Online"
  },
  "commonBean": {
    "userId": 123,
    "sourceId": 10,
    "subSourceId": 5,
    "userRole": "RESELLER"
  }
}


{
  "code": "MERCHANT_NOT_FOUND",
  "message": "No active merchants found for reseller"
}

{"@timestamp":"2026-01-30T15:10:13.9266977+05:30","@version":"1","message":"Request received","logger_name":"com.transaction.config.LoggingFilter","thread_name":"http-nio-auto-1-exec-2","level":"INFO","level_value":20000,"traceId":"81c22440-da31-440b-8d8f-919c3d4e0e5b","receivedAt":"2026-01-30T15:10:13.903700300+05:30","method":"logRequest","details":{"headers":{"x-received-at":"2026-01-30T15:10:13.903700300+05:30","content-length":"369","x-trace-id":"81c22440-da31-440b-8d8f-919c3d4e0e5b","host":"localhost:62811","content-type":"application/json","connection":"Keep-Alive","accept-encoding":"gzip,deflate","accept":"application/json","user-agent":"Apache-HttpClient/4.5.13 (Java/21.0.2)"},"method":"POST","type":"REQUEST","body":{"txnAnalyticRequest":{"fromDate":"2025-09-09","requestorId":"M1285789568568","toDate":"2026-01-20","channelName":"Online","userRole":"RESELLER","userId":123,"channelId":1,"merchId":0},"commonBean":{"sourceId":10,"subSourceId":5,"userRole":"RESELLER","userId":123}},"uri":"/v1/fetchTxnAnalyticsData","remoteAddr":"127.0.0.1"},"thread":"http-nio-auto-1-exec-2","type":"Telegram","class":"LoggingFilter","timestamp":"2026-01-30T09:40:13.926697700Z"}
{"@timestamp":"2026-01-30T15:10:13.9556991+05:30","@version":"1","message":"ResponseStatusException occurred with status: MERCHANT_NOT_FOUND","logger_name":"com.transaction.common.exception.GlobalExceptionHandler","thread_name":"http-nio-auto-1-exec-2","level":"ERROR","level_value":40000,"stack_trace":"com.transaction.common.exception.MerchantNotFoundException: No active merchants found for reseller\r\n\tat com.transaction.service.impl.TransactionAnalyticServiceImpl.fetchTransactionAnalytics(TransactionAnalyticServiceImpl.java:58)\r\n\tat com.transaction.controller.TransactionAnalyticController.fetchTransactionAnalytics(TransactionAnalyticController.java:48)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat com.transaction.config.LoggingFilter.doFilter(LoggingFilter.java:88)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","traceId":"81c22440-da31-440b-8d8f-919c3d4e0e5b","receivedAt":"2026-01-30T15:10:13.903700300+05:30","method":"handleBaseException","thread":"http-nio-auto-1-exec-2","type":"APPLICATION","class":"GlobalExceptionHandler","timestamp":"2026-01-30T09:40:13.955699100Z"}
{"@timestamp":"2026-01-30T15:10:13.9666967+05:30","@version":"1","message":"Response sent","logger_name":"com.transaction.config.LoggingFilter","thread_name":"http-nio-auto-1-exec-2","level":"INFO","level_value":20000,"traceId":"81c22440-da31-440b-8d8f-919c3d4e0e5b","receivedAt":"2026-01-30T15:10:13.903700300+05:30","apiName":"POST /fetchTxnAnalyticsData","method":"logResponse","details":{"headers":{},"method":"POST","type":"RESPONSE","body":{"code":"MERCHANT_NOT_FOUND","message":"No active merchants found for reseller"},"uri":"/v1/fetchTxnAnalyticsData","status":404},"thread":"http-nio-auto-1-exec-2","type":"Telegram","class":"LoggingFilter","timestamp":"2026-01-30T09:40:13.966696700Z"}

java.lang.AssertionError: 1 expectation failed.
Expected header "X-RECEIVED-AT" was not "2026-01-30T15:10:13.903700300+05:30", was "null". Headers are:
Content-Type=application/json
Content-Length=80
Date=Fri, 30 Jan 2026 09:40:13 GMT
Keep-Alive=timeout=20
Connection=keep-alive
